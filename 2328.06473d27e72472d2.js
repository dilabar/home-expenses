"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2328],{2328:(C,m,r)=>{r.r(m),r.d(m,{EarningsPage:()=>y});var h=r(467),u=r(177),d=r(4341),e=r(4742),g=r(5873),p=r(5079),n=r(4438);let b=(()=>{var a;class s{constructor(o){this.modalController=o,this.earningType="salary",this.earningSource="",(0,p.a)({"close-outline":g.xfX})}ngOnInit(){}closeModal(){this.modalController.dismiss()}saveEarning(){this.modalController.dismiss({type:this.earningType,source:this.earningSource,amount:this.earningAmount})}}return(a=s).\u0275fac=function(o){return new(o||a)(n.rXU(e.W3))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-add-earning-modal"]],standalone:!0,features:[n.aNF],decls:29,vars:3,consts:[[1,"custom-toolbar"],[1,"custom-title"],["slot","end"],["fill","clear",3,"click"],["name","close-outline"],[1,"earning-container"],[1,"custom-item"],["position","floating"],["interface","popover",3,"ngModelChange","ngModel"],["value","salary"],["value","freelance"],["type","text",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"custom-footer"],["expand","block",1,"custom-save-button",3,"click"],["slot","start","name","wallet-outline"]],template:function(o,t){1&o&&(n.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),n.EFF(3,"Add Earning"),n.k0s(),n.j41(4,"ion-buttons",2)(5,"ion-button",3),n.bIt("click",function(){return t.closeModal()}),n.nrm(6,"ion-icon",4),n.k0s()()()(),n.j41(7,"ion-content")(8,"div",5)(9,"ion-item",6)(10,"ion-label",7),n.EFF(11,"Earning Type"),n.k0s(),n.j41(12,"ion-select",8),n.mxI("ngModelChange",function(i){return n.DH7(t.earningType,i)||(t.earningType=i),i}),n.j41(13,"ion-select-option",9),n.EFF(14,"Salary"),n.k0s(),n.j41(15,"ion-select-option",10),n.EFF(16,"Freelance"),n.k0s()()(),n.j41(17,"ion-item",6)(18,"ion-label",7),n.EFF(19,"Source"),n.k0s(),n.j41(20,"ion-input",11),n.mxI("ngModelChange",function(i){return n.DH7(t.earningSource,i)||(t.earningSource=i),i}),n.k0s()(),n.j41(21,"ion-item",6)(22,"ion-label",7),n.EFF(23,"Amount"),n.k0s(),n.j41(24,"ion-input",12),n.mxI("ngModelChange",function(i){return n.DH7(t.earningAmount,i)||(t.earningAmount=i),i}),n.k0s()()()(),n.j41(25,"ion-footer",13)(26,"ion-button",14),n.bIt("click",function(){return t.saveEarning()}),n.nrm(27,"ion-icon",15),n.EFF(28," Save Earning "),n.k0s()()),2&o&&(n.R7$(12),n.R50("ngModel",t.earningType),n.R7$(8),n.R50("ngModel",t.earningSource),n.R7$(4),n.R50("ngModel",t.earningAmount))},dependencies:[u.MD,d.YN,d.BC,d.vS,e.bv,e.Jm,e.QW,e.W9,e.M0,e.eU,e.iq,e.$w,e.uz,e.he,e.Nm,e.Ip,e.BC,e.ai,e.su,e.Je,e.Gw],styles:[".custom-toolbar[_ngcontent-%COMP%]{box-shadow:0 4px 12px #0000001a}ion-button[_ngcontent-%COMP%]{--border-radius: 12px;--padding-start: 20px;--padding-end: 20px}.custom-item[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;margin-bottom:12px;border-radius:12px;box-shadow:0 4px 8px #0000000d;background-color:var(--ion-color-light)}.custom-save-button[_ngcontent-%COMP%]{--background: linear-gradient(45deg, var(--ion-color-success), var(--ion-color-tertiary));--color: white;font-size:1.2rem;font-weight:700;border-radius:12px;transition:background .3s ease}.custom-save-button[_ngcontent-%COMP%]:hover{background:var(--ion-color-success-shade)}.earning-container[_ngcontent-%COMP%]{padding:20px}ion-label[_ngcontent-%COMP%]{color:var(--ion-color-medium)}"]}),s})();var f=r(7738),E=r(5312),v=r(7360);let M=(()=>{var a;class s{constructor(o){this.reqResService=o,this.apiUrl=E.c.baseUrl+"api/"}addEarning(o,t){return this.reqResService.post(`${this.apiUrl}add_earning`,o,t)}getEarnings(){return this.reqResService.get(`${this.apiUrl}source_wise_totals`,!0)}}return(a=s).\u0275fac=function(o){return new(o||a)(n.KVO(v.E))},a.\u0275prov=n.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),s})(),y=(()=>{var a;class s{constructor(o,t,l){this.expenseService=o,this.earningservice=t,this.modalController=l,this.salaryEarnings=[],this.freelanceEarnings=[],this.filteredEarnings=[],this.months=[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],(0,p.a)({home:g.iRW,"wallet-outline":g.eF1,add:g.WQq})}ngOnInit(){this.loadEarnings()}ionViewWillEnter(){this.loadEarnings()}loadEarnings(){this.earningservice.getEarnings().subscribe(t=>{t.status&&(this.salaryAmount=t.salary_total,this.freelanceAmount=t.freelance_total)});const o=(new Date).toISOString().slice(5,7);this.selectedMonth=o,this.filterEarningsByMonth()}filterEarningsByMonth(){}openAddEarningModal(){var o=this;return(0,h.A)(function*(){const t=yield o.modalController.create({component:b});yield t.present();const{data:l}=yield t.onWillDismiss();l&&(yield o.earningservice.addEarning(l,!0).subscribe(i=>{i.status&&(console.log(i),o.loadEarnings())}))})()}handleRefresh(o){setTimeout(()=>{this.loadEarnings(),o.target.complete()},2e3)}}return(a=s).\u0275fac=function(o){return new(o||a)(n.rXU(f.k),n.rXU(M),n.rXU(e.W3))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-earnings"]],standalone:!0,features:[n.aNF],decls:35,vars:10,consts:[[3,"translucent"],[1,"custom-toolbar"],["slot","start"],["defaultHref","tabs/home"],[1,"custom-title"],["slot","end"],[3,"click"],["name","settings-outline"],[1,"ion-padding",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"earnings-card"],["color","light"],[1,"card-title"],["name","cash-outline"],[1,"amount-display"],[1,"amount"],["name","briefcase-outline"],["vertical","bottom","horizontal","end","slot","fixed"],["color","success",3,"click"],["name","add","color","light"]],template:function(o,t){1&o&&(n.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),n.nrm(3,"ion-back-button",3),n.k0s(),n.j41(4,"ion-title",4),n.EFF(5,"Transaction History"),n.k0s(),n.j41(6,"ion-buttons",5)(7,"ion-button",6),n.bIt("click",function(){return t.openAddEarningModal()}),n.nrm(8,"ion-icon",7),n.k0s()()()(),n.j41(9,"ion-content",8)(10,"ion-refresher",9),n.bIt("ionRefresh",function(i){return t.handleRefresh(i)}),n.nrm(11,"ion-refresher-content"),n.k0s(),n.j41(12,"ion-card",10)(13,"ion-card-header",11)(14,"ion-card-title",12),n.nrm(15,"ion-icon",13),n.EFF(16," Salary Earnings "),n.k0s()(),n.j41(17,"ion-card-content")(18,"div",14)(19,"p",15),n.EFF(20),n.nI1(21,"currency"),n.k0s()()()(),n.j41(22,"ion-card",10)(23,"ion-card-header",11)(24,"ion-card-title",12),n.nrm(25,"ion-icon",16),n.EFF(26," Freelance Earnings "),n.k0s()(),n.j41(27,"ion-card-content")(28,"div",14)(29,"p",15),n.EFF(30),n.nI1(31,"currency"),n.k0s()()()(),n.j41(32,"ion-fab",17)(33,"ion-fab-button",18),n.bIt("click",function(){return t.openAddEarningModal()}),n.nrm(34,"ion-icon",19),n.k0s()()()),2&o&&(n.Y8G("translucent",!0),n.R7$(9),n.Y8G("fullscreen",!0),n.R7$(11),n.JRh(n.i5U(21,4,t.salaryAmount,"INR")),n.R7$(10),n.JRh(n.i5U(31,7,t.freelanceAmount,"INR")))},dependencies:[u.MD,u.oe,d.YN,e.bv,e.Jm,e.QW,e.b_,e.I9,e.ME,e.tN,e.W9,e.Q8,e.YW,e.eU,e.iq,e.To,e.Ki,e.BC,e.ai,e.el],styles:["ion-card[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:15px;box-shadow:0 2px 12px #0000001a}.card-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.2rem}.amount-display[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:1.5rem;color:#2c3e50}"]}),s})()}}]);