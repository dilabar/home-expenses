"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[932],{932:(_,u,r)=>{r.r(u),r.d(u,{ExpensesPage:()=>E});var f=r(467),p=r(177),g=r(4341),n=r(4742),l=r(5873),m=r(5079),e=r(4438),h=r(7738);function x(s,c){if(1&s&&(e.j41(0,"ion-select-option",15),e.EFF(1),e.k0s()),2&s){const a=c.$implicit;e.Y8G("value",a.id),e.R7$(),e.JRh(a.name)}}let M=(()=>{var s;class c{constructor(t,o){this.modalController=t,this.expenseService=o,this.categories=[],(0,m.a)({"wallet-outline":l.eF1,"close-outline":l.xfX})}ngOnInit(){this.loaddata()}loaddata(){this.expenseService.getCategory().subscribe(t=>{t.status&&(this.categories=t.category)})}closeModal(){this.modalController.dismiss()}saveExp(){this.modalController.dismiss({category_id:this.category_id,amount:this.amount,description:this.description})}}return(s=c).\u0275fac=function(t){return new(t||s)(e.rXU(n.W3),e.rXU(h.k))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-add-expenses-modal"]],standalone:!0,features:[e.aNF],decls:26,vars:4,consts:[[1,"custom-toolbar"],[1,"custom-title"],["slot","end"],["fill","clear",3,"click"],["name","close-outline"],[1,"expense-container"],[1,"custom-item"],["position","floating"],["interface","popover",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"custom-footer"],["expand","block",1,"custom-save-button",3,"click"],["slot","start","name","wallet-outline"],[3,"value"]],template:function(t,o){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),e.EFF(3,"Expenses"),e.k0s(),e.j41(4,"ion-buttons",2)(5,"ion-button",3),e.bIt("click",function(){return o.closeModal()}),e.nrm(6,"ion-icon",4),e.k0s()()()(),e.j41(7,"ion-content")(8,"div",5)(9,"ion-item",6)(10,"ion-label",7),e.EFF(11,"Category Type"),e.k0s(),e.j41(12,"ion-select",8),e.mxI("ngModelChange",function(i){return e.DH7(o.category_id,i)||(o.category_id=i),i}),e.DNE(13,x,2,2,"ion-select-option",9),e.k0s()(),e.j41(14,"ion-item",6)(15,"ion-label",7),e.EFF(16,"Description"),e.k0s(),e.j41(17,"ion-input",10),e.mxI("ngModelChange",function(i){return e.DH7(o.description,i)||(o.description=i),i}),e.k0s()(),e.j41(18,"ion-item",6)(19,"ion-label",7),e.EFF(20,"Amount"),e.k0s(),e.j41(21,"ion-input",11),e.mxI("ngModelChange",function(i){return e.DH7(o.amount,i)||(o.amount=i),i}),e.k0s()()()(),e.j41(22,"ion-footer",12)(23,"ion-button",13),e.bIt("click",function(){return o.saveExp()}),e.nrm(24,"ion-icon",14),e.EFF(25," Save Expenses "),e.k0s()()),2&t&&(e.R7$(12),e.R50("ngModel",o.category_id),e.R7$(),e.Y8G("ngForOf",o.categories),e.R7$(4),e.R50("ngModel",o.description),e.R7$(4),e.R50("ngModel",o.amount))},dependencies:[n.bv,n.Jm,n.QW,n.W9,n.M0,n.eU,n.iq,n.$w,n.uz,n.he,n.Nm,n.Ip,n.BC,n.ai,n.su,n.Je,n.Gw,p.MD,p.Sq,g.YN,g.BC,g.vS],styles:[".custom-toolbar[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--color: white;box-shadow:0 4px 12px #0000001a}.custom-title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700;text-align:center}.custom-item[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;margin-bottom:12px;border-radius:12px;box-shadow:0 4px 8px #0000000d;background-color:var(--ion-color-light)}.expense-container[_ngcontent-%COMP%]{padding:20px}.custom-save-button[_ngcontent-%COMP%]{--background: linear-gradient(45deg, var(--ion-color-success), var(--ion-color-tertiary));--color: white;font-size:1.2rem;font-weight:700;border-radius:12px;transition:background .3s ease}.custom-save-button[_ngcontent-%COMP%]:hover{background:var(--ion-color-success-shade)}"]}),c})();function b(s,c){if(1&s&&(e.j41(0,"ion-item",18)(1,"div",19),e.nrm(2,"ion-icon",20),e.k0s(),e.j41(3,"ion-label",21)(4,"h2"),e.EFF(5),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"date"),e.k0s()(),e.j41(9,"ion-text",22)(10,"h3"),e.EFF(11),e.nI1(12,"currency"),e.k0s()()()),2&s){const a=c.$implicit;e.R7$(2),e.Y8G("color",a.isIncome?"success":"danger"),e.R7$(3),e.JRh(a.category_name),e.R7$(2),e.JRh(e.i5U(8,5,a.date,"dd MMM yyyy")),e.R7$(2),e.Y8G("color",a.isIncome?"success":"danger"),e.R7$(2),e.JRh(e.i5U(12,8,a.total_amount,"INR"))}}let E=(()=>{var s;class c{constructor(t,o){this.expensesService=t,this.modalController=o,this.expensesList=[],this.currentMonth=new Date,(0,m.a)({home:l.iRW,"wallet-outline":l.eF1,add:l.WQq,"pricetag-outline":l.eOv,"cash-outline":l.A3w,"swap-horizontal-outline":l.Ilt,"settings-outline":l.s8q})}ngOnInit(){this.loadExpenses()}loadExpenses(){this.expensesService.getExpenses().subscribe(t=>{t.status&&(this.expensesList=t.categorized_expenses,this.totalExpenses=t.total_expenses)})}openAddEXpensesModal(){var t=this;return(0,f.A)(function*(){const o=yield t.modalController.create({component:M});yield o.present();const{data:d}=yield o.onWillDismiss();d&&(yield t.expensesService.addExpense(d,!0).subscribe(i=>{i.status&&console.log(i)}))})()}handleRefresh(t){setTimeout(()=>{this.loadExpenses(),t.target.complete()},2e3)}}return(s=c).\u0275fac=function(t){return new(t||s)(e.rXU(h.k),e.rXU(n.W3))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-expenses"]],standalone:!0,features:[e.aNF],decls:28,vars:11,consts:[[3,"translucent"],[1,"custom-toolbar"],["slot","start"],["defaultHref","tabs/home"],[1,"custom-title"],["slot","end"],["name","settings-outline"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["pulling-text","Pull to refresh","refreshing-spinner","crescent"],[1,"balance-card"],[1,"balance-content"],[1,"balance-amount"],["lines","none"],["class","transaction-item","detail","",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","danger",3,"click"],["name","add"],["detail","",1,"transaction-item"],[1,"transaction-icon"],["name","swap-horizontal-outline",3,"color"],[1,"transaction-details"],[1,"transaction-amount",3,"color"]],template:function(t,o){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title",4),e.EFF(5,"Transaction History"),e.k0s(),e.j41(6,"ion-buttons",5)(7,"ion-button"),e.nrm(8,"ion-icon",6),e.k0s()()()(),e.j41(9,"ion-content",7)(10,"ion-refresher",8),e.bIt("ionRefresh",function(i){return o.handleRefresh(i)}),e.nrm(11,"ion-refresher-content",9),e.k0s(),e.j41(12,"ion-card",10)(13,"ion-card-header")(14,"ion-card-title"),e.EFF(15,"Total Expenses"),e.k0s(),e.j41(16,"ion-card-subtitle"),e.EFF(17),e.nI1(18,"date"),e.k0s()(),e.j41(19,"ion-card-content",11)(20,"h1",12),e.EFF(21),e.nI1(22,"currency"),e.k0s()()(),e.j41(23,"ion-list",13),e.DNE(24,b,13,11,"ion-item",14),e.k0s(),e.j41(25,"ion-fab",15)(26,"ion-fab-button",16),e.bIt("click",function(){return o.openAddEXpensesModal()}),e.nrm(27,"ion-icon",17),e.k0s()()()),2&t&&(e.Y8G("translucent",!0),e.R7$(9),e.Y8G("fullscreen",!0),e.R7$(8),e.JRh(e.i5U(18,5,o.currentMonth,"MMMM yyyy")),e.R7$(4),e.JRh(e.i5U(22,8,o.totalExpenses,"INR")),e.R7$(3),e.Y8G("ngForOf",o.expensesList))},dependencies:[n.bv,n.Jm,n.QW,n.b_,n.I9,n.ME,n.HW,n.tN,n.W9,n.Q8,n.YW,n.eU,n.iq,n.uz,n.he,n.nf,n.To,n.Ki,n.IO,n.BC,n.ai,n.el,p.MD,p.Sq,p.oe,p.vh,g.YN],styles:[".header-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;text-align:center}.balance-card[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.balance-content[_ngcontent-%COMP%]{text-align:center}.balance-amount[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0}.transaction-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border-bottom:1px solid #e0e0e0}.transaction-icon[_ngcontent-%COMP%]{flex-shrink:0;margin-right:15px}.transaction-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.transaction-details[_ngcontent-%COMP%]{flex-grow:1;color:#666}.transaction-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;margin:0}"]}),c})()}}]);