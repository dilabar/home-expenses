"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6022],{932:(b,f,i)=>{i.r(f),i.d(f,{ExpensesPage:()=>c});var _=i(467),m=i(177),h=i(4341),n=i(4702),p=i(5873),E=i(5079),e=i(4438),g=i(7738);function M(s,l){if(1&s&&(e.j41(0,"ion-select-option",15),e.EFF(1),e.k0s()),2&s){const a=l.$implicit;e.Y8G("value",a.id),e.R7$(),e.JRh(a.name)}}let x=(()=>{var s;class l{constructor(t,o){this.modalController=t,this.expenseService=o,this.categories=[],(0,E.a)({"wallet-outline":p.eF1,"close-outline":p.xfX})}ngOnInit(){this.loaddata()}loaddata(){this.expenseService.getCategory().subscribe(t=>{t.status&&(this.categories=t.category)})}closeModal(){this.modalController.dismiss()}saveExp(){this.modalController.dismiss({category_id:this.category_id,amount:this.amount,description:this.description})}}return(s=l).\u0275fac=function(t){return new(t||s)(e.rXU(n.W3),e.rXU(g.k))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-add-expenses-modal"]],standalone:!0,features:[e.aNF],decls:26,vars:4,consts:[[1,"custom-toolbar"],[1,"custom-title"],["slot","end"],["fill","clear",3,"click"],["name","close-outline"],[1,"expense-container"],[1,"custom-item"],["position","floating"],["interface","popover",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"custom-footer"],["expand","block",1,"custom-save-button",3,"click"],["slot","start","name","wallet-outline"],[3,"value"]],template:function(t,o){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),e.EFF(3,"Expenses"),e.k0s(),e.j41(4,"ion-buttons",2)(5,"ion-button",3),e.bIt("click",function(){return o.closeModal()}),e.nrm(6,"ion-icon",4),e.k0s()()()(),e.j41(7,"ion-content")(8,"div",5)(9,"ion-item",6)(10,"ion-label",7),e.EFF(11,"Category Type"),e.k0s(),e.j41(12,"ion-select",8),e.mxI("ngModelChange",function(d){return e.DH7(o.category_id,d)||(o.category_id=d),d}),e.DNE(13,M,2,2,"ion-select-option",9),e.k0s()(),e.j41(14,"ion-item",6)(15,"ion-label",7),e.EFF(16,"Description"),e.k0s(),e.j41(17,"ion-input",10),e.mxI("ngModelChange",function(d){return e.DH7(o.description,d)||(o.description=d),d}),e.k0s()(),e.j41(18,"ion-item",6)(19,"ion-label",7),e.EFF(20,"Amount"),e.k0s(),e.j41(21,"ion-input",11),e.mxI("ngModelChange",function(d){return e.DH7(o.amount,d)||(o.amount=d),d}),e.k0s()()()(),e.j41(22,"ion-footer",12)(23,"ion-button",13),e.bIt("click",function(){return o.saveExp()}),e.nrm(24,"ion-icon",14),e.EFF(25," Save Expenses "),e.k0s()()),2&t&&(e.R7$(12),e.R50("ngModel",o.category_id),e.R7$(),e.Y8G("ngForOf",o.categories),e.R7$(4),e.R50("ngModel",o.description),e.R7$(4),e.R50("ngModel",o.amount))},dependencies:[n.eU,n.$w,n.W9,n.uz,n.ai,n.he,n.Jm,n.BC,n.QW,n.iq,n.Nm,n.Ip,n.M0,m.MD,m.Sq,h.YN,h.BC,h.vS],styles:[".custom-toolbar[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--color: white;box-shadow:0 4px 12px #0000001a}.custom-title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700;text-align:center}.custom-item[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;margin-bottom:12px;border-radius:12px;box-shadow:0 4px 8px #0000000d;background-color:var(--ion-color-light)}.expense-container[_ngcontent-%COMP%]{padding:20px}.custom-save-button[_ngcontent-%COMP%]{--background: linear-gradient(45deg, var(--ion-color-success), var(--ion-color-tertiary));--color: white;font-size:1.2rem;font-weight:700;border-radius:12px;transition:background .3s ease}.custom-save-button[_ngcontent-%COMP%]:hover{background:var(--ion-color-success-shade)}"]}),l})();function r(s,l){if(1&s&&(e.j41(0,"ion-item",18)(1,"div",19),e.nrm(2,"ion-icon",20),e.k0s(),e.j41(3,"ion-label",21)(4,"h2"),e.EFF(5),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"date"),e.k0s()(),e.j41(9,"ion-text",22)(10,"h3"),e.EFF(11),e.nI1(12,"currency"),e.k0s()()()),2&s){const a=l.$implicit;e.R7$(2),e.Y8G("color",a.isIncome?"success":"danger"),e.R7$(3),e.JRh(a.category_name),e.R7$(2),e.JRh(e.i5U(8,5,a.date,"dd MMM yyyy")),e.R7$(2),e.Y8G("color",a.isIncome?"success":"danger"),e.R7$(2),e.JRh(e.i5U(12,8,a.total_amount,"INR"))}}let c=(()=>{var s;class l{constructor(t,o){this.expensesService=t,this.modalController=o,this.expensesList=[],this.currentMonth=new Date,(0,E.a)({home:p.iRW,"wallet-outline":p.eF1,add:p.WQq,"pricetag-outline":p.eOv,"cash-outline":p.A3w,"swap-horizontal-outline":p.Ilt,"settings-outline":p.s8q})}ngOnInit(){this.loadExpenses()}loadExpenses(){this.expensesService.getExpenses().subscribe(t=>{t.status&&(this.expensesList=t.categorized_expenses,this.totalExpenses=t.total_expenses)})}openAddEXpensesModal(){var t=this;return(0,_.A)(function*(){const o=yield t.modalController.create({component:x});yield o.present();const{data:u}=yield o.onWillDismiss();u&&(yield t.expensesService.addExpense(u,!0).subscribe(d=>{d.status&&console.log(d)}))})()}handleRefresh(t){setTimeout(()=>{this.loadExpenses(),t.target.complete()},2e3)}}return(s=l).\u0275fac=function(t){return new(t||s)(e.rXU(g.k),e.rXU(n.W3))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-expenses"]],standalone:!0,features:[e.aNF],decls:28,vars:11,consts:[[3,"translucent"],[1,"custom-toolbar"],["slot","start"],["defaultHref","tabs/home"],[1,"custom-title"],["slot","end"],["name","settings-outline"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["pulling-text","Pull to refresh","refreshing-spinner","crescent"],[1,"balance-card"],[1,"balance-content"],[1,"balance-amount"],["lines","none"],["class","transaction-item","detail","",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","danger",3,"click"],["name","add"],["detail","",1,"transaction-item"],[1,"transaction-icon"],["name","swap-horizontal-outline",3,"color"],[1,"transaction-details"],[1,"transaction-amount",3,"color"]],template:function(t,o){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title",4),e.EFF(5,"Transaction History"),e.k0s(),e.j41(6,"ion-buttons",5)(7,"ion-button"),e.nrm(8,"ion-icon",6),e.k0s()()()(),e.j41(9,"ion-content",7)(10,"ion-refresher",8),e.bIt("ionRefresh",function(d){return o.handleRefresh(d)}),e.nrm(11,"ion-refresher-content",9),e.k0s(),e.j41(12,"ion-card",10)(13,"ion-card-header")(14,"ion-card-title"),e.EFF(15,"Total Expenses"),e.k0s(),e.j41(16,"ion-card-subtitle"),e.EFF(17),e.nI1(18,"date"),e.k0s()(),e.j41(19,"ion-card-content",11)(20,"h1",12),e.EFF(21),e.nI1(22,"currency"),e.k0s()()(),e.j41(23,"ion-list",13),e.DNE(24,r,13,11,"ion-item",14),e.k0s(),e.j41(25,"ion-fab",15)(26,"ion-fab-button",16),e.bIt("click",function(){return o.openAddEXpensesModal()}),e.nrm(27,"ion-icon",17),e.k0s()()()),2&t&&(e.Y8G("translucent",!0),e.R7$(9),e.Y8G("fullscreen",!0),e.R7$(8),e.JRh(e.i5U(18,5,o.currentMonth,"MMMM yyyy")),e.R7$(4),e.JRh(e.i5U(22,8,o.totalExpenses,"INR")),e.R7$(3),e.Y8G("ngForOf",o.expensesList))},dependencies:[n.iq,n.ai,n.QW,n.Jm,n.BC,n.W9,n.eU,n.b_,n.I9,n.ME,n.tN,n.To,n.Ki,n.Q8,n.YW,n.HW,n.he,n.el,n.nf,n.uz,n.IO,m.MD,m.Sq,m.oe,m.vh,h.YN],styles:[".header-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;text-align:center}.balance-card[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.balance-content[_ngcontent-%COMP%]{text-align:center}.balance-amount[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0}.transaction-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;margin-bottom:10px;border-bottom:1px solid #e0e0e0}.transaction-icon[_ngcontent-%COMP%]{flex-shrink:0;margin-right:15px}.transaction-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.transaction-details[_ngcontent-%COMP%]{flex-grow:1;color:#666}.transaction-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;margin:0}"]}),l})()},7360:(b,f,i)=>{i.d(f,{E:()=>e});var _=i(1626),m=i(8810),h=i(6354),n=i(9437),p=i(4438),E=i(4743);let e=(()=>{var g;class M{constructor(r,c){this.http=r,this.tokenStorage=c}post(r,c,s){let l=this.createHeaders();if(s){const a=this.tokenStorage.getToken();a&&(l=this.createHeaders(a))}return this.http.post(r,c,{headers:l}).pipe((0,h.T)(a=>a),(0,n.W)(this.handleError))}get(r,c){let s=this.createHeaders();if(c){const l=this.tokenStorage.getToken();l&&(s=this.createHeaders(l))}return this.http.get(r,{headers:s}).pipe((0,h.T)(l=>l),(0,n.W)(this.handleError))}createHeaders(r){let c=new _.Lr({"Content-Type":"application/json"});return r&&(c=c.append("Authorization",`Bearer ${r}`)),c}handleError(r){let c;return c=r.error instanceof ErrorEvent?`Client-side error: ${r.error.message}`:`Server returned code: ${r.status}, error message: ${r.message}`,console.error(c),(0,m.$)(()=>new Error(c))}}return(g=M).\u0275fac=function(r){return new(r||g)(p.KVO(_.Qq),p.KVO(E.I))},g.\u0275prov=p.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),M})()},5312:(b,f,i)=>{i.d(f,{c:()=>_});const _={production:!0,baseUrl:"https://dilabar.pythonanywhere.com/"}}}]);